<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.org.dao.OrganizationInfoDao">
	
	<select id="queryOrganInfo" resultType="java.util.Map">
		select b.name as "adminName",
		b.phone as "adminPhone",
		b.email as "adminEmail",
		a.name as "orgName",
		a.code as "orgCode"  
		from ORG_ORGANIZATION_INFO a 
		inner join sys_user b on a.user_id=b.id 
		where a.code=#{orgCode}
	</select>
	
	<select id="queryUserByPhone" resultType="java.util.Map">
		select id as "id" from sys_user where phone=#{phone}
	</select>
	
	<insert id="insert">
		INSERT INTO ORG_ORGANIZATION_INFO(
			id,
			code,
			name,
			user_id,
			credt,
			moddt
		) VALUES (
			#{id},
			#{code},
			#{name},
			#{userId},
			#{credt},
			#{moddt}
		)
	</insert>
	
</mapper>